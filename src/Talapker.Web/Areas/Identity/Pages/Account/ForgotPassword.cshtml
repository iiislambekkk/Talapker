@page
@using Microsoft.Extensions.Localization
@using Talapker.Infrastructure
@model ForgotPasswordModel
@inject IStringLocalizer<SharedResource> Localizer

@{
    ViewData["Title"] = Localizer["ForgotPassword"];
}

<div class="min-h-screen flex">
    <!-- Left Side - Image/Illustration -->
    <div class="hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary/20 to-primary/5 relative overflow-hidden">
        <div class="absolute inset-0 bg-grid-pattern opacity-5"></div>
        <div class="flex flex-col justify-center items-center w-full px-16">
            <!-- Illustration Container -->
            <div class="max-w-md text-center">
                <div class="w-64 h-64 mx-auto mb-8 bg-primary/10 rounded-full flex items-center justify-center">
                    <svg class="w-32 h-32 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                    </svg>
                </div>
                <h2 class="text-3xl font-bold text-foreground mb-4">@Localizer["ResetYourPassword"]</h2>
                <p class="text-muted-foreground text-lg">@Localizer["ResetPasswordDescription"]</p>
            </div>
        </div>
    </div>

    <!-- Right Side - Forgot Password Form -->
    <div class="flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-20 xl:px-24">
        <div class="mx-auto w-full max-w-md">
            <!-- Logo for Mobile -->
            <div class="lg:hidden flex justify-center mb-8">
                <a href="/" class="flex items-center gap-3">
                    <img src="/imgs/logo.svg" alt="Logo" class="h-12 w-12">
                    <p class="text-2xl font-bold text-foreground">Talapker</p>
                </a>
            </div>

            <!-- Forgot Password Card -->
            <div class="bg-card border border-border rounded-2xl shadow-lg p-8">
                <!-- Header -->
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-foreground mb-2">@Localizer["ForgotPassword"]</h1>
                    <p class="text-muted-foreground">@Localizer["EnterEmailToReset"]</p>
                </div>

                <form method="post" class="space-y-6">
                    <div asp-validation-summary="ModelOnly" class="text-destructive text-sm bg-destructive/10 p-3 rounded-lg" role="alert"></div>

                    <!-- Email Field -->
                    <div class="space-y-2">
                        <label asp-for="Input.Email" class="block text-sm font-medium text-foreground">@Localizer["EmailAddress"]</label>
                        <input asp-for="Input.Email"
                               class="w-full px-4 py-3 border border-input rounded-xl bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"
                               autocomplete="username"
                               aria-required="true"
                               placeholder="@Localizer["EnterYourEmail"]" />
                        <span asp-validation-for="Input.Email" class="block text-destructive text-sm"></span>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit"
                            class="w-full bg-primary text-primary-foreground py-3.5 px-4 rounded-xl font-semibold hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 transform hover:-translate-y-0.5 active:translate-y-0 shadow-sm hover:shadow-md">
                        @Localizer["ResetPassword"]
                    </button>
                </form>

                <!-- Back to Login Link -->
                <div class="mt-6 text-center">
                    <p class="text-sm text-muted-foreground">
                        @Localizer["RememberPassword"] 
                        <a asp-page="./Login" class="text-primary hover:text-primary/90 font-semibold underline-offset-4 hover:underline transition-colors">
                            @Localizer["SignIn"]
                        </a>
                    </p>
                </div>
            </div>

            <!-- Footer Links -->
            <div class="mt-8 text-center">
                <p class="text-xs text-muted-foreground">
                    @Localizer["NeedHelp"] 
                    <a href="/contact" class="text-primary hover:text-primary/90 underline-offset-4 hover:underline">
                        @Localizer["ContactSupport"]
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<style>
    .bg-grid-pattern {
        background-image: 
            linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px);
        background-size: 20px 20px;
    }
</style>