@using Microsoft.Extensions.Localization
@using Talapker.Infrastructure
@using Talapker.UserAccess.Infrastructure
@{
    if (ViewData.TryGetValue("ParentLayout", out var parentLayout) && parentLayout != null)
    {
        Layout = parentLayout.ToString();
    }
    else
    {
        Layout = $"/Areas/Identity/Pages/_Layout.cshtml";
    }
}
@inject IStringLocalizer<SharedResource> Localizer;

<div class="mt-20 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Navigation Sidebar -->
            <div class="lg:w-80 flex-shrink-0">
                <div class="bg-card border border-border rounded-2xl shadow-sm p-6 sticky top-8">
                    <div class="flex items-center gap-3 mb-6 pb-4 border-b border-border">
                        <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center">
                            <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                        </div>
                        <div>
                            <h2 class="font-semibold text-foreground">@Localizer["Account"]</h2>
                            <p class="text-sm text-muted-foreground">@Localizer["ManageYourProfile"]</p>
                        </div>
                    </div>
                    <partial name="_ManageNav" />
                </div>
            </div>

            <!-- Main Content -->
            <div class="flex-1">
                <div class="bg-card border border-border rounded-2xl shadow-sm p-10">
                    @RenderBody()
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @RenderSection("Scripts", required: false)
}

<style>
    .sticky {
        position: sticky;
    }
</style>